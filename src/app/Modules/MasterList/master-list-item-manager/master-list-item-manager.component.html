<div class="p-m-3">
  <h3>Master List Items</h3>

  <!-- Type Selector -->
  <p-select [options]="types" [(ngModel)]="selectedType" optionLabel="label" optionValue="value"
    placeholder="Select a type" (onChange)="onTypeChange()">
  </p-select>

  <!-- Items Table -->
  <p-table *ngIf="selectedType" [value]="items" [paginator]="true" [rows]="5" class="p-mt-3">
    <ng-template pTemplate="header">
      <tr>
        <th>Label</th>
        <th>Value</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{ item.label }}</td>
        <td>{{ item.value }}</td>
        <td>{{ item.isActive ? 'Active' : 'Inactive' }}</td>
        <td>
          <button pButton icon="pi pi-pencil" class="p-button-text" (click)="editItem(item)"></button>
          <button pButton icon="pi pi-trash" class="p-button-text p-button-danger" (click)="deleteItem(item)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <button *ngIf="selectedType" pButton label="Add New Item" icon="pi pi-plus" class="p-mt-3"
    (click)="openNew()"></button>

  <!-- Add/Edit Dialog -->
  <p-dialog [(visible)]="itemDialog" [modal]="true" [style]="{width:'400px'}"
    [header]="editingItem?.id ? 'Edit Item' : 'New Item'">
    <div class="p-fluid">
      <div class="p-field">
        <label>Label</label>
        <input pInputText [(ngModel)]="editingItem.label" />
      </div>
      <div class="p-field">
        <label>Value</label>
        <input pInputText [(ngModel)]="editingItem.value" />
      </div>
      <div class="p-field-checkbox">
        <p-checkbox [(ngModel)]="editingItem.isActive" binary="true" label="Active"></p-checkbox>
      </div>
    </div>
    <p-footer>
      <button pButton label="Cancel" class="p-button-text" (click)="itemDialog=false"></button>
      <button pButton label="Save" (click)="saveItem()"></button>
    </p-footer>
  </p-dialog>
</div>