<div class="flex flex-col rounded-md overflow-hidden bg-[var(--theme-bg-secondary)] h-full">

  <!-- ðŸ”¹ Filter Bar -->
  <div class="card-filter p-4 bg-[var(--theme-bg-primary)] shadow-md">
    <!-- MODIFIED: Replaced Grid with Flexbox for a responsive single-row layout -->
    <div class="flex flex-wrap items-end gap-x-6 gap-y-4">

      <!-- Transaction ID -->
      <div class="flex flex-col flex-grow min-w-[160px]">
        <label for="transactionId" class="text-sm font-medium text-[var(--theme-text-secondary)] mb-1">Transaction
          ID</label>
        <input pInputText id="transactionId" [(ngModel)]="paymentFilter.transactionId" (input)="applyFiltersAndReset()"
          placeholder="Search ID..." />
      </div>

      <!-- Customer Name -->
      <div class="flex flex-col flex-grow min-w-[160px]">
        <label for="customerName" class="text-sm font-medium text-[var(--theme-text-secondary)] mb-1">Customer
          Name</label>
        <input pInputText id="customerName" [(ngModel)]="paymentFilter.customerName" (input)="applyFiltersAndReset()"
          placeholder="Search Customer..." />
      </div>

      <!-- Status Dropdown -->
      <div class="flex flex-col flex-grow min-w-[150px]">
        <label for="status" class="text-sm font-medium text-[var(--theme-text-secondary)] mb-1">Status</label>
       <p-select appendTo="body"  id="status" [options]="statusOptions" [(ngModel)]="paymentFilter.status"
          (onChange)="applyFiltersAndReset()" placeholder="All Statuses" [showClear]="true"></p-select>
      </div>

      <!-- Method Dropdown -->
      <div class="flex flex-col flex-grow min-w-[150px]">
        <label for="paymentMethod" class="text-sm font-medium text-[var(--theme-text-secondary)] mb-1">Payment
          Method</label>
       <p-select appendTo="body"  id="paymentMethod" [options]="methodOptions" [(ngModel)]="paymentFilter.paymentMethod"
          (onChange)="applyFiltersAndReset()" placeholder="All Methods" [showClear]="true"></p-select>
      </div>

      <!-- Date Range -->
      <div class="flex flex-col flex-grow min-w-[300px]">
        <label class="text-sm font-medium text-[var(--theme-text-secondary)] mb-1">Payment Date Range</label>
        <div class="flex items-center gap-2">
          <input pInputText type="date" id="createdFrom" [(ngModel)]="paymentFilter.createdFrom"
            (change)="applyFiltersAndReset()" class="w-full" />
          <span class="text-[var(--theme-text-secondary)]">to</span>
          <input pInputText type="date" id="createdTo" [(ngModel)]="paymentFilter.createdTo"
            (change)="applyFiltersAndReset()" class="w-full" />
        </div>
      </div>

      <!-- Actions -->
      <!-- MODIFIED: Pushed to the right with ml-auto -->
      <div class="flex items-end gap-2 ml-auto">
        <p-button (click)="applyFiltersAndReset()" label="Apply" icon="pi pi-check" styleClass="p-button-sm"></p-button>
        <p-button (click)="resetFilters()" label="Reset" icon="pi pi-refresh"
          styleClass="p-button-sm p-button-outlined"></p-button>
      </div>
    </div>
  </div>

  <!-- ðŸ”¹ Grid Area (Unchanged) -->
    <div class="mt-1 card">
      <app-shared-grid [data]="data" [gridHeight]="'240px'" [headerFilter]="false" [GridName]="'Customer Details'"
        [column]="column" (eventFromGrid)="eventFromGrid($event)" (gridReady)="onGridReady($event)"
        (scrolledToBottom)="onScrolledToBottom($event)">
      </app-shared-grid>
    </div>
  
</div>