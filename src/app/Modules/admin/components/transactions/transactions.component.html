
<div class="flex flex-col h-full p-4 gap-4 bg-[var(--theme-bg-secondary)]">

  <!-- ==== FILTER BAR ==== -->
  <div class="se-filter-bar">
    <!-- <h2 class="text-lg font-semibold text-[var(--theme-text-heading)] mb-2">
      Filter Transactions
    </h2> -->

    <div class="flex flex-wrap items-end gap-4 w-full">
      <div class="se-filter-field">
        <label>Description</label>
        <input pInputText [(ngModel)]="transactionFilter.description" (input)="applyFiltersAndReset()"
          placeholder="Search description..." class="p-inputtext-sm w-full" />
      </div>

      <div class="se-filter-field">
        <label>Type</label>
        <p-select [options]="typeOptions" [(ngModel)]="transactionFilter.type" (onChange)="applyFiltersAndReset()"
          placeholder="All Types" [showClear]="true" appendTo="body"></p-select>
      </div>

      <div class="se-filter-field">
        <label>Status</label>
        <p-select [options]="statusOptions" [(ngModel)]="transactionFilter.status" (onChange)="applyFiltersAndReset()"
          placeholder="All Status" [showClear]="true" appendTo="body"></p-select>
      </div>

      <!-- <div class="se-filter-field">
        <label>Period</label>
        <p-select [options]="periodOptions" [(ngModel)]="transactionFilter.period" (onChange)="applyFiltersAndReset()"
          placeholder="Select Period" appendTo="body"></p-select>
      </div> -->
      <!-- Period OR Custom Date Range -->
      <div class="se-filter-field">
        <label>Period</label>
        <p-select [options]="periodOptions" [(ngModel)]="transactionFilter.period" (onChange)="applyFiltersAndReset()"
          placeholder="Select Period" appendTo="body" [showClear]="true">
        </p-select>
      </div>

      <!-- Custom Date Range -->
      <div class="se-filter-field">
        <label>Date Range</label>
        <div class="flex items-center gap-2">
          <p-datepicker [(ngModel)]="transactionFilter.startDate" dateFormat="yy-mm-dd" placeholder="Start Date"
            appendTo="body">
          </p-datepicker>

          <span class="text-xs text-[var(--theme-text-secondary)]">to</span>

          <p-datepicker [(ngModel)]="transactionFilter.endDate" dateFormat="yy-mm-dd" placeholder="End Date"
            appendTo="body" (onSelect)="applyFiltersAndReset()">
          </p-datepicker>
        </div>
      </div>


      <div class="flex items-center gap-2 mt-auto">
        <button pButton type="button" label="Apply" icon="pi pi-check" class="p-button-sm"
          (click)="applyFiltersAndReset()"></button>
        <button pButton type="button" label="Reset" icon="pi pi-refresh" class="p-button-sm p-button-outlined"
          (click)="resetFilters()"></button>
      </div>

    </div>
  </div>

  <!-- ==== GRID ==== -->
  <div class="flex-grow card p-4 bg-[var(--theme-bg-primary)] rounded-lg shadow-md">
    <app-shared-grid [data]="data" [gridHeight]="'200px'" [headerFilter]="false" [GridName]="'Transaction Details'"
      [column]="column" (eventFromGrid)="eventFromGrid($event)" (gridReady)="onGridReady($event)"
      (scrolledToBottom)="onScrolledToBottom($event)">
    </app-shared-grid>
  </div>
</div>