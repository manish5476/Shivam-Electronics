
<div class="bg-white p-6 rounded-2xl shadow flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
  <!-- Left Side: Input + Fetch + Toggle Buttons -->
  <div class="flex flex-col gap-4 w-full md:flex-row md:items-center md:gap-6">
    <!-- Label + Input -->
    <div class="flex flex-col md:flex-row md:items-center gap-4 w-full md:w-auto">
      <h3 class="text-xl font-semibold text-gray-800 whitespace-nowrap">ðŸ“… Select Year</h3>
      <input pInputText [(ngModel)]="yearInput" placeholder="Enter year (e.g., 2025)"
        class="p-inputtext w-full md:w-60 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:outline-none" />
      <button pButton type="button" label="Fetch" icon="pi pi-refresh" (click)="getSalesDataForChartsYearly()"
        class="p-button p-button-primary h-11 px-4"></button>
    </div>

    <!-- Toggle Buttons -->
    <div class="flex flex-wrap gap-2">
      <button pButton type="button" label="Bar Chart" icon="pi pi-chart-bar" (click)="onToggleView('bar')"
        class="p-button" [class.p-button-outlined]="chartView !== 'bar'">
        Bar
      </button>
      <button pButton type="button" label="Line Chart" icon="pi pi-chart-line" (click)="onToggleView('line')"
        class="p-button" [class.p-button-outlined]="chartView !== 'line'">
        Line
      </button>
      <button pButton type="button" label="Both" icon="pi pi-chart-mixed" (click)="onToggleView('both')"
        class="p-button" [class.p-button-outlined]="chartView !== 'both'">
        Chart
      </button>
    </div>
  </div>

  <!-- Right Side: Status Message -->
  <div class="text-sm text-gray-500 text-center md:text-right w-full md:w-auto">
    <ng-container *ngIf="isLoading">
      <p>Loading chart data...</p>
    </ng-container>
    <ng-container *ngIf="!isLoading && !chartDataBar?.datasets?.length">
      <p>No sales data available for the selected year.</p>
    </ng-container>
  </div>
</div>

<!-- Chart Toggle Buttons -->

<div *ngIf="isLoading" class="p-4">
  <p-skeleton height="30rem"></p-skeleton>
</div>
<div *ngIf="!isLoading" class="flex flex-row md:flex-row gap-6 pt-6">
  <div *ngIf="chartView === 'bar' || chartView === 'both'"
    [ngClass]="chartView === 'both' ? 'w-full md:w-1/2' : 'w-full'" class="card">
    <p-chart type="bar" [data]="chartDataBar" [options]="chartOptionsBar" class="h-[30rem]"></p-chart>
  </div>

  <div *ngIf="chartView === 'line' || chartView === 'both'"
    [ngClass]="chartView === 'both' ? 'w-full md:w-1/2' : 'w-full'" class="card">
    <p-chart type="line" [data]="chartDataLine" [options]="chartOptionsLine" class="h-[30rem]"></p-chart>
  </div>
</div>
